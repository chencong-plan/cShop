<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>

	<package name="user_package" namespace="/" extends="json-default">
		<!-- 登录 -->
		<action name="Login" class="userAction">
			<!-- 用户登录 -->
			<result name="success" type="json">
				<param name="root">msg</param>
			</result>
			
			<!-- 管理员登录 -->
			<result name="admin_login_success" type="redirect">/admin/welcome.jsp</result>
			<result name="admin_login_fail" type="redirect">/admin/adminlogin.jsp</result>
		</action>
		
		<!-- 检查用户邮箱地址 -->
		<action name="checkUser" class="userAction">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 注册 -->
		<action name="userRegister" class="userAction">
			<result name="success" type="json">
				<param name="root">msg</param>
			</result>
		</action>
		<!-- 修改密码 -->
		<action name="passreset" class="userAction">
			<result name="success" type="json">
				<param name="root">msg</param>
			</result>
		</action>
		
		<!-- 判断用户是否登录 -->
		<action name="checkLogin" class="userAction">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 退出登录 -->
		<action name="userLogout" class="userAction">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
		</action>
	</package>
	
	<!-- 商品分类请求包 -->
	<package name="category_package" namespace="/" extends="json-default">
		<action name="category" class="categoryAction">
			<result type="redirect">/index.jsp</result>
		</action>
	</package>
	
	<!-- 分类下商品信息请求 -->
	<package name="product_package" namespace="/" extends="json-default">
		<action name="products" class="productAction">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 通过商品id显示该商品的详细信息 -->
		<action name="getProduct" class="productAction" >
			<result name="success" type="redirect">/detail.jsp</result>
		</action>
	</package>
	
	<!-- 购物车操作包 -->
	<package name="cart_package" namespace="/" extends="json-default">
		<action name="addCart"  class="cartAction">
			<result name="success" type="redirect">/user/cart.jsp</result>
		</action>
	</package>
</struts>   
